{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/PendingView/PendingView.module.css","services/PixabayAPI.js","components/Container/Container.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/ErrorView/ErrorView.js","components/PendingView/PendingView.js","components/App/App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","MY_API_KEY","query","a","page","axios","get","hits","data","defaults","baseURL","Container","children","className","s","container","Searchbar","state","searchValue","handleSearchChange","e","setState","target","value","toLowerCase","handleSearchSubmit","preventDefault","trim","props","onSubmit","reset","toast","error","position","POSITION","TOP_LEFT","theme","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","picture","onModalOpen","src","webformatURL","alt","tags","ImageGalleryItemImage","onClick","ImageGallery","pictures","map","id","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","currentTarget","window","addEventListener","createPortal","backdrop","content","ErrorView","role","PendingView","size","spinner","App","searchQuery","loading","showModal","largePicture","handleFormSubmit","handleLoadMoreClick","fetchSearch","then","scrollTo","top","documentElement","scrollHeight","behavior","catch","err","finally","handleModalClick","toggleModal","prevProps","prevState","getPictures","prev","length","largeImageURL","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.90f8c20d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1vTxP\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__2S_FW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1iOrt\",\"content\":\"Modal_content__3jWdP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2YxU7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3dQif\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__qKOdV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"PendingView_spinner__drmeE\",\"icon-spin\":\"PendingView_icon-spin__2SyPo\"};","import axios from 'axios';\r\n\r\nconst MY_API_KEY = '23191493-c555b110853d44812f8f12711';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nexport async function getPictures(query, page = 1) {\r\n    const { data: { hits } } = await axios.get(`?q=${query}&page=${page}\r\n    &per_page=12&image_type=photo&orientation=horizontal&key=${MY_API_KEY}`)\r\n    \r\n    return hits;\r\n}","import s from './Container.module.css';\nimport PropTypes from 'prop-types';\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Container;\n","import { Component } from 'react';\r\nimport {toast} from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport s from './SearchBar.module.css';\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        searchValue: '',\r\n    }\r\n\r\n    handleSearchChange = e => {\r\n      this.setState({searchValue: e.target.value.toLowerCase()})\r\n      \r\n    }\r\n\r\n    handleSearchSubmit = e => {\r\n    e.preventDefault();\r\n    if(this.state.searchValue.trim() === ''){\r\n      toast.error('Please, enter the search query!', {\r\n        position: toast.POSITION.TOP_LEFT,\r\n        theme: \"colored\",\r\n      })\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchValue)\r\n    // this.setState({searchValue: ''});\r\n    this.reset();\r\n    }\r\n\r\n    reset = () => {\r\n      this.setState({searchValue: ''});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSearchSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n      <span className={s.SearchFormButtonLabel}>Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className={s.SearchFormInput}\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n      onChange={this.handleSearchChange}\r\n    />\r\n  </form>\r\n</header>\r\n    )\r\n    }\r\n\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n}\r\n\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\n\r\nexport default function ImageGalleryItem({picture, onModalOpen}) {\r\n    return (\r\n        <>\r\n            <img \r\n            src={picture.webformatURL} \r\n            alt={picture.tags} \r\n            className={s.ImageGalleryItemImage}\r\n            onClick={() => onModalOpen(picture)} />\r\n        </>\r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    picture: PropTypes.object,\r\n    onModalOpen: PropTypes.func,\r\n}","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({pictures, onModalOpen}){\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n        {pictures.map(picture=> (\r\n            <li className={s.ImageGalleryItem} key={picture.id}>\r\n            <ImageGalleryItem picture={picture} onModalOpen={onModalOpen}/>\r\n            </li>\r\n        ))\r\n        }\r\n        </ul>\r\n    )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    pictures: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n    onModalOpen: PropTypes.func,\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\n\r\nexport default function Button({onClick}){\r\n    return(\r\n        <button type=\"button\" className={s.Button} onClick={onClick}>Load more</button>\r\n    )\r\n}\r\n\r\nButton.propTypes ={\r\n    onClick: PropTypes.func,\r\n}","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component{\r\n    state={}\r\n    \r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n        \r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            console.log('ESC')\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={s.backdrop} onClick={this.handleBackdropClick}>\r\n                <div className={s.content}>{this.props.children}</div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n        \r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n}\r\n","export default function ErrorView() {\r\n    return (\r\n        <div className=\"error\" role=\"alert\">\r\n            <h1 >ERROR: Sorry, nothing is national for this request, enter the correct query...</h1>\r\n        </div>\r\n    )\r\n}","import { ImSpinner} from 'react-icons/im';\r\nimport s from './PendingView.module.css';\r\n\r\n\r\nexport default function PendingView(){\r\n    return (\r\n        <div role=\"alert\">\r\n            <ImSpinner size=\"45\" className={s.spinner}/>\r\n            Loading...\r\n        </div>\r\n    )\r\n}","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { getPictures } from '../../services/PixabayAPI';\nimport Container from '../Container/Container';\nimport Searchbar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport ErrorView from '../ErrorView/ErrorView';\nimport PendingView from '../PendingView/PendingView';\n\n\nclass App extends Component {\n  state = {\n    page: 1,\n    searchQuery: '',\n    pictures: [],\n    loading: false,\n    showModal: false,\n    largePicture: {},\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.searchQuery !== prevState.searchQuery) {\n      this.fetchSearch()\n        .catch(err => console.log(err))\n        .finally(() => this.setState({ loading: false }));\n      \n    }\n    \n  }\n\n  fetchSearch() {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n    return getPictures(searchQuery, page).then(pictures => {\n      this.setState(prev => ({\n        pictures: [...prev.pictures, ...pictures],\n        page: prev.page + 1,\n      }));\n    });\n  }\n\n  \n  handleFormSubmit = searchQuery => {\n    this.setState({\n      page: 1, \n      searchQuery, \n      pictures: []\n    });\n  }\n  \n  \nhandleLoadMoreClick =()=>{\n  this.setState({loading:true});\n  this.fetchSearch()\n  .then(()=>{\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  })\n  .catch((err)=> console.log(err))\n  .finally(() => this.setState({loading: false }));\n}\n\nhandleModalClick= largePicture =>{\n  this.setState({largePicture});\n  this.toggleModal();\n}\n\ntoggleModal = () => {\n  this.setState(({showModal}) => ({\n    showModal: !showModal,\n  }))\n}\n\n\n  render() {\n    const { loading, searchQuery, pictures, largePicture, showModal } = this.state;\n      return (\n        <Container>\n          <ToastContainer/>\n          <Searchbar onSubmit={this.handleFormSubmit}/>\n          {loading && <PendingView/>}\n          {pictures.length !== 0 ? (<ImageGallery pictures={pictures} onModalOpen={this.handleModalClick}/>)\n          : (searchQuery !== '' && <ErrorView/>)}\n          {!loading && pictures[0] && <Button onClick={this.handleLoadMoreClick}/>}\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              {loading && <PendingView/>}\n              <img \n              src={largePicture.largeImageURL}\n              alt={largePicture.tags}\n              />\n            </Modal>)\n  }\n    </Container>\n  )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1ASC7\",\"SearchForm\":\"SearchBar_SearchForm__1JdDa\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2P_r2\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3Gr4H\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1NyRi\"};"],"sourceRoot":""}