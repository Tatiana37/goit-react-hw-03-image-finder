{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","services/PixabayAPI.js","components/Container/Container.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/App/App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","MY_API_KEY","query","a","page","axios","get","hits","data","defaults","baseURL","Container","children","className","s","container","Searchbar","state","searchValue","handleSearchChange","e","setState","target","value","toLowerCase","handleSearchSubmit","preventDefault","trim","props","onSubmit","reset","toast","error","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","picture","src","webformatURL","alt","tags","ImageGalleryItemImage","ImageGallery","pictures","map","id","Button","onClick","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","onClose","handleBackdropClick","currentTarget","window","addEventListener","createPortal","backdrop","content","App","searchQuery","loading","showModal","toggleModal","handleFormSubmit","handleLoadMoreClick","fetchSearch","then","scrollTo","top","documentElement","scrollHeight","behavior","catch","err","finally","prevProps","prevState","getPictures","prev","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ae8a1dd5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1vTxP\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__2S_FW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1iOrt\",\"content\":\"Modal_content__3jWdP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2YxU7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3dQif\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__qKOdV\"};","import axios from 'axios';\r\n\r\nconst MY_API_KEY = '23191493-c555b110853d44812f8f12711';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nexport async function getPictures(query, page = 1) {\r\n    const { data: { hits } } = await axios.get(`?q=${query}&page=${page}\r\n    &per_page=12&image_type=photo&orientation=horizontal&key=${MY_API_KEY}`)\r\n    \r\n    return hits;\r\n}","import s from './Container.module.css';\nimport PropTypes from 'prop-types';\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Container;\n","import { Component } from 'react';\r\nimport {toast} from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport s from './SearchBar.module.css';\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        searchValue: '',\r\n    }\r\n\r\n    handleSearchChange = e => {\r\n      this.setState({searchValue: e.target.value.toLowerCase()})\r\n      \r\n    }\r\n\r\n    handleSearchSubmit = e => {\r\n    e.preventDefault();\r\n    if(this.state.searchValue.trim() === ''){\r\n      toast.error('Please, enter the correct search query!')\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchValue)\r\n    // this.setState({searchValue: ''});\r\n    this.reset();\r\n    }\r\n\r\n    reset = () => {\r\n      this.setState({searchValue: ''});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSearchSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n      <span className={s.SearchFormButtonLabel}>Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className={s.SearchFormInput}\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n      onChange={this.handleSearchChange}\r\n    />\r\n  </form>\r\n</header>\r\n    )\r\n    }\r\n\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n}\r\n\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\n\r\nexport default function ImageGalleryItem({picture}) {\r\n    return (\r\n        <>\r\n            <img src={picture.webformatURL} alt={picture.tags} className={s.ImageGalleryItemImage} />\r\n        </>\r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    picture: PropTypes.object,\r\n}","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({pictures}){\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n        {pictures.map(picture=> (\r\n            <li className={s.ImageGalleryItem} key={picture.id}>\r\n            <ImageGalleryItem picture={picture}/>\r\n            </li>\r\n        ))\r\n        }\r\n        </ul>\r\n    )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    pictures: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n}\r\n","import s from './Button.module.css';\r\nexport default function Button({onClick}){\r\n    return(\r\n        <button type=\"button\" className={s.Button} onClick={onClick}>Load more</button>\r\n    )\r\n}","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component{\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n        \r\n    }\r\n\r\n    handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            console.log('ESC')\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return createPortal(\r\n            <div className={s.backdrop} onClick={this.handleBackdropClick}>\r\n                <div className={s.content}>{this.props.children}</div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n        \r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n}\r\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { getPictures } from '../../services/PixabayAPI';\nimport Container from '../Container/Container';\nimport Searchbar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\n\nclass App extends Component {\n  state = {\n    page: 1,\n    searchQuery: '',\n    pictures: [],\n    loading: false,\n    showModal: false,\n  }\n  \n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.searchQuery !== prevState.searchQuery) {\n      this.fetchSearch()\n        .catch(err => console.log(err))\n        .finally(() => this.setState({ loading: false }));\n      \n    }\n    \n  }\n\n  fetchSearch() {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n    return getPictures(searchQuery, page).then(pictures => {\n      this.setState(prev => ({\n        pictures: [...prev.pictures, ...pictures],\n        page: prev.page + 1,\n      }));\n    });\n  }\n\n\n\n  toggleModal = () => {\n    this.setState(({showModal}) => ({\n      showModal: !showModal,\n    }))\n  }\n  \n  handleFormSubmit = searchQuery => {\n    this.setState({\n      page: 1, \n      searchQuery, \n      pictures: []\n    });\n  }\n  \n  \nhandleLoadMoreClick =()=>{\n  this.setState({loading:true});\n  this.fetchSearch()\n  .then(()=>{\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  })\n  .catch((err)=> console.log(err))\n  .finally(() => this.setState({loading: false }));\n}\n\n\n  render() {\n    const { loading, pictures, showModal } = this.state;\n      return (\n        <Container>\n          <ToastContainer/>\n          <Searchbar onSubmit={this.handleFormSubmit}/>\n          <ImageGallery pictures={pictures} />\n          {!loading && pictures[0] && <Button onClick={this.handleLoadMoreClick}/>}\n          \n          {/* <button type=\"button\" onClick={this.toggleModal}>Open Modal</button> */}\n          {showModal && (\n            <Modal onClose={this.toggleModal}>\n              <>\n                <button type=\"button\" onClick={this.toggleModal}>Close Modal</button>\n              </>\n            </Modal>)\n  }\n    </Container>\n  )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1ASC7\",\"SearchForm\":\"SearchBar_SearchForm__1JdDa\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2P_r2\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3Gr4H\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1NyRi\"};"],"sourceRoot":""}